ready: true

# Login & Registration Revamp â€“ **RÃ©szletes Sprintâ€‘vÃ¡szon**

> **VÃ©gsÅ‘ cÃ©l**  Modern, Ã¡ttekinthetÅ‘ hitelesÃ­tÃ©si rendszer a Tippmixappâ€‘ban.
# (A fÃ¡jl fennmaradÃ³ rÃ©sze vÃ¡ltozatlanul hagyva â€“ sprint roadmap, rÃ©szfeladatok, DoD Ã©s kockÃ¡zatok ugyanaz, lÃ¡sd korÃ¡bbi verziÃ³)

# LoginÂ & Registration Revamp â€“ **RÃ©szletes Sprintâ€‘vÃ¡szon**

> **VÃ©gsÅ‘ cÃ©l**Â Â Modern, Ã¡ttekinthetÅ‘ hitelesÃ­tÃ©si rendszer a Tippmixappâ€‘ban:
> * VendÃ©gâ€‘mÃ³d â†’ fÅ‘kÃ©pernyÅ‘ â€BelÃ©pÃ©sâ€ csempÃ©vel.
> * FÃ³kuszÃ¡lt **LoginScreen** (eâ€‘mail + social), alul link a RegisztrÃ¡ciÃ³hoz.
> * TÃ¶bblÃ©pÃ©ses **RegisterWizard** kÃ¼lÃ¶n Ãºtvonalon.
> * BÃ¡rmely korlÃ¡tozott funkciÃ³/panel **routeâ€‘guard popup**â€‘pal terel a Loginre.
> * RÃ©gi A/B kÃ©pernyÅ‘k, kÃ³d Ã©s tesztek **teljes kivezetÃ©se**.

---

## ğŸ—ºï¸Â SprintÂ Roadmap (Ã¡ttekintÃ©s)

| Sprint | FÅ‘ fÃ³kusz | BecsÃ¼lt idÅ‘ | Kimenetek (DoD) |
|--------|-----------|------------|-----------------|
| **0 â€“ Discovery** | KÃ¶vetelmÃ©nyek, UXâ€‘flow, wireframe | 0,5Â nap | `docs/login_register_revamp.md`Â â€“ mermaidâ€‘diagram, mezÅ‘lista, vendÃ©gâ€‘CTA mockup |
| **1 â€“ LoginScreen** | Ãšj Login widget + service | 1,5Â nap | `lib/screens/login_screen.dart`, socialâ€‘login gombok, widgetâ€‘teszt, `flutter analyze` zÃ¶ld |
| **2 â€“ RegisterWizard** | 3â€‘lÃ©pÃ©ses regisztrÃ¡ciÃ³ | 2Â nap | `lib/screens/register/`Â mappa, stepper + email verify, unit + widget tests |
| **3 â€“ GuestHomeÂ & Guard** | FÅ‘kÃ©pernyÅ‘ guestâ€‘CTA + routeâ€‘guard | 1Â nap | Csempe a Homeâ€‘on, `AuthGuard` provider, popup dialog, e2eâ€‘test |
| **4 â€“ Cleanup** | Legacy tÃ¶rlÃ©s, l10n, CI | 0,5Â nap | RÃ©gi AB kÃ©pernyÅ‘k tÃ¶rÃ¶lve, l10n kulcsok frissÃ­tve, GitHubÂ CI fut |
| **5 â€“ QA & Release** | LokalizÃ¡ciÃ³, accessibility, storeâ€‘build | 1Â nap | HU/EN/DE json, WCAG AA audit, `flutter build`, changelog |

---

## ğŸ“‘Â SprintÂ 0Â â€“ Discovery & UXÂ specifikÃ¡ciÃ³

### CÃ©l
* Egyeztetni a /docs, /codex_docs anyagokat Ã©s **AGENTS.md** irÃ¡nyelveit.
* RÃ¶gzÃ­teni minden kÃ©pernyÅ‘ stateâ€‘gÃ©ppel Ã©s mermaidâ€‘diagrammal.

### Feladatok
1. **KÃ¶nyvtÃ¡râ€‘audit**Â â€“ olvasd be a projekt **/docs**, **/codex_docs** tartalmÃ¡t, AGENTS.mdâ€‘t.  
2. **Flowâ€‘diagram**Â â€“ `mermaid` a kÃ¶vetkezÅ‘ Ã¡llapotokkal: `Splash â†’ (guest) HomeGuest â†’ Login â†’ RegisterWizard(step1â€‘3) â†’ HomeLogged`.  
3. **Wireframe**Â â€“ link Figmaâ€‘/PNGâ€‘export a Login & Register UIâ€‘rÃ³l.  
4. **MezÅ‘lista**Â â€“ JSONâ€‘tÃ¡bla a regisztrÃ¡ciÃ³ minden mezÅ‘jÃ©rÅ‘l (nÃ©v, tÃ­pus, validÃ¡ciÃ³).  
5. **Definition of Ready**Â â€“ ellenÅ‘rzÅ‘lista: approved UX, PO signâ€‘off.

### DoD
* `docs/login_register_revamp.md` commitâ€‘elve, reviewâ€‘elve, fÅ‘Ã¡gon.

---

## ğŸ—ï¸Â SprintÂ 1Â â€“ LoginScreen implementation

### Feladatok
1. **Widget skeleton**Â â€“ `lib/screens/login_screen.dart` + `login_form.dart`.  
2. **Social login gombok**Â â€“ Google, Apple (platformâ€‘guard), Facebook.  
3. **`router.goNamed(AppRoute.register)` link** az aljÃ¡n.  
4. **AuthService refactor**Â â€“ kiemelni `auth_service.dart`â€‘be `signInWithEmail`, `signInWithGoogle`, stb.  
5. **Guest flow**Â â€“ ha `uid != null` â†’ HomeLogged, else marad.  
6. **Widget test**Â â€“ sikeres login navigÃ¡l Homeâ€‘ra.  
7. **CI**Â â€“ `flutter analyze && flutter test --coverage` pipeline.

### DoD
* Tesztek zÃ¶ld, linter 0 hiba, kÃ©pernyÅ‘ 3Â nyelven lokalizÃ¡lt.

---

## ğŸ§©Â SprintÂ 2Â â€“ RegisterWizard (3Â lÃ©pÃ©s)

### LÃ©pÃ©sek
| Step | MezÅ‘k | Extra |
|------|-------|-------|
| 1 | Eâ€‘mail, jelszÃ³ | liveâ€‘validator, password strength meter |
| 2 | Nickname, szÃ¼letÃ©si dÃ¡tum | dateâ€‘picker, GDPR checkbox |
| 3 | Avatar (opcionÃ¡lis), Ã¶sszegzÃ©s | image picker, terms link |

### Feladatok
1. **Stepper widget**Â â€“ `lib/screens/register/stepper.dart`.  
2. **Emailâ€‘verify flow**Â â€“ FirebaseÂ Auth sendEmailVerification + polling.  
3. **Progress provider**Â â€“ Riverpod StateNotifier.  
4. **Unit + widget test** minden lÃ©pÃ©sre.  
5. **RouterÂ â†’ HomeLogged** a vÃ©gÃ©n.

### DoD
* Wizard hibamentesen vÃ©gigmegy, tesztâ€‘coverage â‰¥90Â % a registerâ€‘csomagra.

---

## ğŸ Â SprintÂ 3Â â€“ GuestÂ Home & RouteGuard

### Feladatok
1. **HomeGuestÂ CTA**Â â€“ Ãºj csempe `BelÃ©pÃ©s / RegisztrÃ¡lj` â†’ Login.  
2. **AuthGuard provider**Â â€“ wrapper `RequireAuth` komponens, amely ha `uid == null` â†’ `LoginRequiredDialog` (Get.dialog / showDialog).  
3. **IntegrÃ¡lÃ¡s minden korlÃ¡tozott routeâ€‘nÃ¡l** (BetSlip, Profile, Historyâ€¦).  
4. **e2eâ€‘test**Â â€“ guest felhasznÃ¡lÃ³ kattint BetSlip â†’ popup jelenik meg.

### DoD
* Minden vÃ©dett funkciÃ³ felugrÃ³val terel, HomeGuestâ€‘en CTA mÅ±kÃ¶dik.

---

## ğŸ§¹Â SprintÂ 4Â â€“ Legacy cleanup & CI

### Feladatok
1. **TÃ¶rÃ¶ld**Â `login_register_screen.dart`, `login_screen_variant_b*`, experiment service, Remote Config kulcs.  
2. **L10n prune**Â â€“ tÃ¡volÃ­tsd el nem hasznÃ¡lt kulcsokat.  
3. **CI**Â â€“ frissÃ­tsd GitHub Actions: `flutter test`, `flutter drive` vendÃ©gâ€‘ Ã©s loginâ€‘flowâ€‘ra.  
4. **README**Â â€“ frissÃ­tett kÃ©pernyÅ‘ screenshot.

### DoD
* `flutter analyze` tiszta, CI zÃ¶ld, master branch deployâ€‘kÃ©sz.

---

## âœ…Â SprintÂ 5Â â€“ QA, Accessibility, Release

* **WCAG AA audit**Â â€“ min. 4,5Â :Â 1 kontraszt, beszÃ©lÅ‘ label.  
* **LokalizÃ¡ciÃ³**Â â€“ HU/EN/DE .arbÂ update, `flutter gen-l10n`.  
* **StoreÂ build**Â â€“ `flutter build appbundle` + iOS ipa, TestFlight / Play Beta.  
* **Changelog & version bump**Â â€“ semver + Git tag.  
* **Stakeholder UAT**Â â€“ checklist alÃ¡Ã­rva.

---

## ğŸš©Â KockÃ¡zatok & MitigÃ¡ciÃ³
* **Social login API vÃ¡ltozÃ¡s** â†’ wrapper service + e2e teszt.  
* **Emailâ€‘verify latency** â†’ fallback â€KÃ¼ldj Ãºjraâ€ gomb + progress bar.  
* **Legacy tÃ¶rlÃ©s utÃ¡ni regressziÃ³** â†’ snapshot tesztek + featureâ€‘flags 1 sprintig lappanganak rollbackre.  

---

### VÃ©gsÅ‘ DefinitionÂ ofÂ Done
* VendÃ©gkÃ©nt bÃ¶ngÃ©szhetÅ‘ Home, vÃ©dett routeâ€‘oknÃ¡l popup.  
* LoginÂ & Register Ã¶nÃ¡llÃ³, gyors, 3Â nyelvÅ±, teljes tesztsor lefut.  
* KorÃ¡bbi A/Bâ€‘ Ã©s legacy kÃ³d nyom nÃ©lkÃ¼l eltÃ¡volÃ­tva.  
* Storeâ€‘release jÃ³vÃ¡hagyva.  

---

> **MegjegyzÃ©s**Â Â A Codex minden sprint elÅ‘tt automatikusan futtatja a `flutter pub get`, `flutter analyze`, `flutter test --coverage` parancsokat, Ã©s csak akkor lÃ©p tovÃ¡bb, ha minden zÃ¶ld.
